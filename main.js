(()=>{"use strict";class t{constructor(t,e=[]){this.name=t,this.task_list=e}get_project_name(){return this.name}set_project_name(t){this.name=t}get_task_list(){return this.task_list}s;set_task_list(t){this.task_list=t}append_to_task_list(t){this.task_list.push(t)}delete_from_task_list(t){var e=this.task_list.indexOf(t);this.task_list.splice(e,1)}}class e{constructor(t,e,n){this.name=t,this.date=e,this.details=n}get_name(){return this.name}set_name(t){this.name=t}get_date(){return this.date}set_date(){this.date=date}get_details(){return this.details}set_details(){this.details=details}}class n{static update_project_storage(t){localStorage.setItem(t.get_project_name(),JSON.stringify(t.get_task_list()))}static get_project_name_storage(t){return null!=localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):[]}static add_project_to_storage(t){localStorage.setItem(t.get_project_name(),JSON.stringify([]))}static get_projects_from_storage(){var t=[];return Object.keys(localStorage).forEach((e=>{t.push(e)})),t}}class i{static add_task_to_ui(t,e){document.getElementById("task-list").innerHTML+=`\n            <div class="task-div" id="${e.get_name()}">\n                <div class="priority high"></div>\n                <div id="left-side">\n                    <div class="check-button-div"></div>\n                    <h1>${e.get_name()}</h1>\n                </div>\n                <div id="right-side">\n                    <button id="details-button">Details</button>\n                    <div id="date">${e.get_date()}</div>\n                    <button id="edit-button"><svg xmlns="http://www.w3.org/2000/svg" class="icon-size" viewBox="0 0 24 24"><title>square-edit-outline</title><path d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z" /></svg></button>\n                    <button id="${e.get_name()}-remove"><svg xmlns="http://www.w3.org/2000/svg" class="icon-size" viewBox="0 0 24 24"><title>trash-can-outline</title><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg></button>\n                </div>\n            </div>\n        `;var n=document.getElementById(`${e.get_name()}-remove`);n.addEventListener("click",(function(){i.remove_button_listener(t,e)})),console.log(n)}static remove_button_listener(t,e){t.delete_from_task_list(e),n.update_project_storage(t),i.remove_task_from_ui(e)}static remove_task_from_ui(t){document.getElementById(t.get_name()).remove()}static load_all_tasks_from_storage(t){var s=n.get_project_name_storage(t.get_project_name());for(let n=0;n<s.length;n++){var a=new e(s[n].name,s[n].date,s[n].details);t.append_to_task_list(a),i.add_task_to_ui(t,a)}}static clear_task_list_ui(){document.getElementById("task-list").innerHTML=""}static project_nav_button_listener(t){var e=document.getElementsByClassName("selected"),n=t.get_project_name(),s=document.getElementById(n.replaceAll(" ","-").toLowerCase());console.log(s);for(var a=0;a<e.length;a++)e[a].classList.remove("selected");s.classList.add("selected"),i.clear_task_list_ui(),i.load_all_tasks_from_storage(t),i.initialize_submit_button("task",t)}static add_project_to_nav(t){document.getElementById("projects-nav").innerHTML+=`\n            <li class="nav-button" id="${t.get_project_name()}">${t.get_project_name()}</li>\n        `,document.getElementById(t.get_project_name()).addEventListener("click",(function(){i.project_nav_button_listener(t)}))}static load_project_nav_to_ui(){for(var e=n.get_projects_from_storage(),s=document.getElementById("projects-nav"),a="",o=1;o<e.length;o++)a+=`<li class="nav-button" id="${e[o].replaceAll(" ","-").toLowerCase()}">${e[o]}</li>`;for(s.innerHTML=a,o=1;o<e.length;o++){var l=document.getElementById(e[o]),d=new t(e[o],n.get_project_name_storage(e[o]));console.log(d),l.addEventListener("click",(function(){i.project_nav_button_listener(d)}))}}static submit_button_prompt_listener(s,a){if("project"==s){var o=document.getElementById(`${s}_name`).value,l=new t(o,[]);n.add_project_to_storage(l),i.add_project_to_nav(l)}else{o=document.getElementById(`${s}_name`).value;var d=document.getElementById(`${s}_date`).value,c=new e(o,d,"");a.append_to_task_list(c),n.update_project_storage(a),i.add_task_to_ui(a,c),i.toggle_ui_prompt(s)}}static initiaiize_add_button(t,e){var n,s=document.getElementById(`new-${t}-button`);(n=document.getElementById(`${t}-close`)).replaceWith(n.cloneNode(!0)),s.replaceWith(s.cloneNode(!0)),s=document.getElementById(`new-${t}-button`),(n=document.getElementById(`${t}-close`)).addEventListener("click",(function(){i.toggle_ui_prompt(t,e)})),s.addEventListener("click",(function(){i.toggle_ui_prompt(t,e)}))}static toggle_ui_prompt(t,e){var n=document.getElementById(`add-${t}-prompt`);n.classList.contains("active")?(n.classList.remove("active"),n.classList.add("inactive")):(n.classList.remove("inactive"),n.classList.add("active"))}static initialize_submit_button(t,e){var n=document.getElementById(`${t}-submit`);n.replaceWith(n.cloneNode(!0)),(n=document.getElementById(`${t}-submit`)).addEventListener("click",(function(){i.submit_button_prompt_listener(t,e)})),console.log(`event listener created for ${e.get_project_name()}`)}static loadHomepage(){var e=document.getElementById("root"),n=new t("All Tasks",[]);e.innerHTML+='\n        <div id="content-container">\n            <header>\n                <span style="color: #353535">to</span><span style="color: #3C6E71">do.</span>\n            </header>\n            <main>\n                <nav>\n                    <ul>\n                        <li class="nav-button selected" id="all-tasks">All Tasks</li>\n                        <li class="nav-button">Today</li>\n                        <li class="nav-button">Week</li>\n                        <li id="nav-divider">Projects</li>\n                        <div id="projects-nav">\n                            <li class="nav-button">Project 1</li>\n                        </div>\n                        <li><button id="new-project-button" class="full-width-button"><span id="add-symbol">+</span>Add Project</button></li>\n                    </ul>\n    \n                </nav>\n                <div id="main-content-container">\n                    <h1 class="tab-title">All Tasks</h1>\n                    <div id ="task-list">\n                        <div class="task-div">\n                            <div class="priority high"></div>\n                            <div id="left-side">\n                                <div class="check-button-div"></div>\n                                <h1>Task Title</h1>\n                            </div>\n                            <div id="right-side">\n                                <button id="details-button">Details</button>\n                                <div id="date">Date</div>\n                                <button id="edit-button"><svg xmlns="http://www.w3.org/2000/svg" class="icon-size" viewBox="0 0 24 24"><title>square-edit-outline</title><path d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z" /></svg></button>\n                                <button id="remove"><svg xmlns="http://www.w3.org/2000/svg" class="icon-size" viewBox="0 0 24 24"><title>trash-can-outline</title><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg></button>\n                            </div>\n                        </div>\n                    </div>\n                    <button id="new-task-button" class="full-width-button"><span id="add-symbol">+</span>New Task</button>\n                </div>\n            </main>\n        </div>\n        ',i.initiaiize_add_button("task",n),i.initiaiize_add_button("project"),i.initialize_submit_button("task",n),i.initialize_submit_button("project",n),i.load_project_nav_to_ui(),i.load_all_tasks_from_storage(n),document.getElementById("all-tasks").addEventListener("click",(function(){i.project_nav_button_listener(n)}))}}document.addEventListener("DOMContentLoaded",i.loadHomepage())})();